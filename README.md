# text2voicevox

`text2voicevox`は、[VOICEVOX](https://voicevox.hiroshiba.jp/)エンジンと連携し、テキストファイルから音声ファイルを生成するためのコマンドラインツールです。

## 概要

このツールを使用すると、ターミナルから簡単なコマンドでテキストを好きなキャラクターの声に変換し、WAVファイルとして保存できます。話者、話速、声の高さなどのパラメータも細かく調整できます。

-----

## 主な機能

  * テキストファイルからWAV音声への変換
  * 名前による話者の指定
  * 話速、音高、抑揚など、各種音声パラメータの調整
  * VOICEVOXエンジンのポート番号指定

-----

## 必要なもの

  * **VOICEVOXエンジン** - このツールを使用するには、VOICEVOXエンジンがローカルで実行されている必要がある。

-----

## インストール（ビルド）

Goの環境がセットアップされていれば、以下のコマンドでリポジトリのルートディレクトリから実行ファイルをビルドできます。

```bash
go build -o text2voicevox.exe .
```

(macOS / Linux の場合)

```bash
go build -o text2voicevox .
```

-----

## 使い方

### 基本的なコマンド

```bash
./text2voicevox.exe -i <入力ファイル.txt> -o <出力ファイル.wav> [オプション...]
```

### 使用例

  * **基本的な使い方**
    （`input.txt`をデフォルト話者の「ずんだもん」の声で `output.wav` に保存）

    ```bash
    ./text2voicevox.exe -i input.txt -o output.wav
    ```

  * **利用可能な話者の一覧を表示**

    ```bash
    ./text2voicevox.exe -list-actors
    ```

  * **話者を指定して音声を生成**
    （話者を「四国めたん」に変更）

    ```bash
    ./text2voicevox.exe -i input.txt -o metan.wav --actor "四国めたん"
    ```

  * **複数のパラメータを調整**
    （話者を「春日部つむぎ」にし、話速と音高を調整）

    ```bash
    ./text2voicevox.exe -i input.txt -o tumugi.wav --actor "春日部つむぎ" --speed 1.2 --pitch 0.1
    ```

  * **VOICEVOXエンジンのポートを指定**
    （エンジンが`50081`番ポートで動作している場合）

    ```bash
    ./text2voicevox.exe -i input.txt -o output.wav --port 50081
    ```

-----

## コマンドラインオプション

### 必須オプション

| フラグ | 説明 |
| :--- | :--- |
| `-i` | 入力するテキストファイルのパス。 |
| `-o` | 出力するWAVファイルのパス。 |

### その他のオプション

| フラグ | デフォルト値 | 説明 |
| :--- | :--- | :--- |
| `--actor` | `"ずんだもん"` | 話者の名前を指定します。 |
| `--list-actors`| | 利用可能な話者の一覧を表示して終了します。 |
| `--port`| `50021` | VOICEVOXエンジンのポート番号を指定します。 |
| `--speed` | `1.0` | 話速を設定します。 |
| `--pitch` | `0.0` | 音高（声の高さ）を設定します。±0.15程度の範囲が推奨されます。 |
| `--intonation`| `1.0` | 抑揚の大きさを設定します。 |
| `--volume`| `1.0` | 音量を設定します。 |
| `--pre-phoneme`| `-1.0` | 音声の前の無音時間（秒）を設定します。`-1`のままだとAPIのデフォルト値が適用されます。 |
| `--post-phoneme`| `-1.0` | 音声の後の無音時間（秒）を設定します。`-1`のままだとAPIのデフォルト値が適用されます。 |
